from aiogram import Router, F, types
from aiogram.types import FSInputFile
from src.database.supabase_client import db

router = Router()

@router.message(F.text == "üßò –†–µ—Å—É—Ä—Å—ã")
async def resources_menu(message: types.Message):
    # 1. –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ê—É–¥–∏–æ (–µ—Å–ª–∏ –æ–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ)
    try:
        audio = FSInputFile("data/safe_place.mp3")
        await message.answer_audio(audio, caption="üéß <b>–ü—Ä–∞–∫—Ç–∏–∫–∞: –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –º–µ—Å—Ç–æ</b>\n–°–ª—É—à–∞–π, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ —É—Å–ø–æ–∫–æ–∏—Ç—å—Å—è.", parse_mode="HTML")
    except:
        await message.answer("–ê—É–¥–∏–æ—Ñ–∞–π–ª —Å–æ–∑–¥–∞–µ—Ç—Å—è, –ø–æ–ø—Ä–æ–±—É–π —á–µ—Ä–µ–∑ –º–∏–Ω—É—Ç—É.")

    # 2. –í—ã–¥–∞–µ–º –ø–æ–ª–µ–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫ (–°—Ç–∞—Ç–∏–∫–∞)
    await message.answer(
        "üîã <b>–¢–≤–æ–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —ç–Ω–µ—Ä–≥–∏–∏ (–ß–µ–∫-–ª–∏—Å—Ç):</b>\n\n"
        "1. <b>–°–æ–Ω:</b> –õ–æ–∂–∏—à—å—Å—è –ª–∏ —Ç—ã —Å–µ–≥–æ–¥–Ω—è –≤–æ–≤—Ä–µ–º—è?\n"
        "2. <b>–í–æ–¥–∞:</b> –°—Ç–∞–∫–∞–Ω –≤–æ–¥—ã –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å.\n"
        "3. <b>–ò–Ω—Ñ–æ-–¥–µ—Ç–æ–∫—Å:</b> 1 —á–∞—Å –±–µ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω–∞.\n"
        "4. <b>–î–≤–∏–∂–µ–Ω–∏–µ:</b> –ü—Ä–æ–π—Ç–∏—Å—å 10 –º–∏–Ω—É—Ç.\n\n"
        "üëá <i>–ü–æ—Å–º–æ—Ç—Ä–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ –î–Ω–µ–≤–Ω–∏–∫–µ, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, —á—Ç–æ —Ç–µ–±—è –∑–∞—Ä—è–∂–∞–µ—Ç.</i>",
        parse_mode="HTML"
    )
